---
const overview = [
	{
		title: "Minimal primitives, maximal control",
		description:
			"Happen boils orchestration down to Nodes + Events. Programs become “programs of programs,” so you compose autonomous behaviors without layering more infrastructure.",
	},
	{
		title: "Unified event space",
		description:
			"State, context, and views share the same continuum, which makes observability, auth, retries, and dependency management part of the base fabric.",
	},
	{
		title: "Governance as code",
		description:
			"Liners wrap System Wrappers at runtime. Shadow Mode, Telepathy, Budget, Policy, and your custom rules are middleware functions that ship with the repo.",
	},
];

const meta = {
	nodeVersion: "Node v25.2.0",
	platform: "darwin · arm64",
	totalOperations: "694,000 operations",
	totalDuration: "1.35s total run",
};

const summaryBullets = [
	"Fastest ops: Standard Object Access (6.67M ops/sec), Object Creation (5.26M), Buffer Pool Acquire/Release (5M).",
	"P50 latency stays at 0.000–0.002ms for zero-allocation paths and causality event creation.",
	"Benchmark suite warms caches (up to 10k iterations) and still finishes the entire matrix in 1.35 seconds.",
];

const eventProcessing = [
	{
		name: "Standard Event Processing",
		throughput: "1,000,000 ops/sec",
		duration: "10ms",
		latency: "P95 0.001ms",
		mem: "0.20 KB/op",
	},
	{
		name: "Zero-Allocation Event Processing",
		throughput: "588,235 ops/sec",
		duration: "17ms",
		latency: "P95 0.002ms",
		mem: "0.37 KB/op",
	},
	{
		name: "Event Creation (Causality)",
		throughput: "2,272,727 ops/sec",
		duration: "22ms",
		latency: "P95 <0.001ms",
		mem: "0.03 KB/op",
	},
	{
		name: "Pattern Matching · Exact",
		throughput: "1,428,571 ops/sec",
		duration: "7ms",
		latency: "P95 0.001ms",
		mem: "0.50 KB/op",
	},
	{
		name: "Pure Buffer Write (Zero-Allocation)",
		throughput: "2,500,000 ops/sec",
		duration: "40ms",
		latency: "P95 0.001ms",
		mem: "0.16 KB/op",
	},
	{
		name: "Pure Buffer Read (Zero-Allocation)",
		throughput: "1,960,784 ops/sec",
		duration: "51ms",
		latency: "P95 0.001ms",
		mem: "0.23 KB/op",
	},
	{
		name: "Buffer Pool · Acquire/Release",
		throughput: "5,000,000 ops/sec",
		duration: "20ms",
		latency: "P95 <0.001ms",
		mem: "0.30 KB/op",
	},
];

const stateAndViews = [
	{
		name: "State Set (Simple)",
		throughput: "4,444 ops/sec",
		duration: "225ms",
		latency: "P95 0.245ms",
		mem: "5.34 KB/op",
	},
	{
		name: "State Get (Simple)",
		throughput: "9,050 ops/sec",
		duration: "221ms",
		latency: "P95 0.120ms",
		mem: "5.65 KB/op",
	},
	{
		name: "State Get + Transform",
		throughput: "9,050 ops/sec",
		duration: "221ms",
		latency: "P95 0.122ms",
		mem: "5.37 KB/op",
	},
	{
		name: "Views · Single Node",
		throughput: "2,994 ops/sec",
		duration: "167ms",
		latency: "P95 0.367ms",
		mem: "15.22 KB/op",
	},
	{
		name: "Views · Multi-node Collect",
		throughput: "2,239 ops/sec",
		duration: "134ms",
		latency: "P95 0.487ms",
		mem: "47.12 KB/op",
	},
];

const confluence = [
	{
		name: "Fan-Out → 5 Nodes",
		throughput: "333,333 ops/sec",
		duration: "3ms",
		latency: "P95 0.005ms",
		mem: "14.23 KB/op",
	},
	{
		name: "Fan-Out + Result Collect",
		throughput: "500,000 ops/sec",
		duration: "1ms",
		latency: "P95 0.003ms",
		mem: "14.55 KB/op",
	},
	{
		name: "Fan-In · Batch 10",
		throughput: "250,000 ops/sec",
		duration: "4ms",
		latency: "P95 0.006ms",
		mem: "2.23 KB/op",
	},
	{
		name: "Fan-In · Batch 50",
		throughput: "62,500 ops/sec",
		duration: "8ms",
		latency: "P95 0.021ms",
		mem: "19.65 KB/op",
	},
	{
		name: "Fan-In · Batch 100",
		throughput: "28,571 ops/sec",
		duration: "7ms",
		latency: "P95 0.041ms",
		mem: "5.12 KB/op",
	},
];
---

<section
	id="happen"
	class="border-b border-[hsl(var(--border))]/70 bg-[hsl(var(--background))]"
>
	<div class="mx-auto max-w-6xl px-4 py-14 sm:px-6 lg:px-8">
		<div
			class="flex flex-col gap-4 md:flex-row md:items-start md:justify-between"
		>
			<div class="space-y-4">
				<h2 class="text-2xl max-w-2xl font-semibold tracking-tight sm:text-3xl">
					Guru runs on Happen: The two-primitive framework for agentic systems.
				</h2>
				<p
					class="max-w-2xl text-sm leading-relaxed text-[hsl(var(--muted-foreground))]"
				>
					Happen is an open-source, event-driven framework developed by the Guru
					team that treats Nodes and Events as the only abstractions you need,
					so swarms look less like black boxes and more like composable infra.
					The Guru Kernel sits on top of this bus, reusing the same governance,
					state, and observability primitives you can adopt in your own stack.
				</p>
			</div>
			<a
				href="https://insert-name-here.gitbook.io/happen"
				class="items-center justify-center rounded-full border border-[hsl(var(--border))] min-w-[170px] px-4 py-1.5 text-[11px] font-semibold text-[hsl(var(--foreground))] transition hover:border-[hsl(var(--primary))]/50"
				target="_blank"
				rel="noreferrer"
			>
				Read the Happen docs →
			</a>
		</div>

		<div class="mt-10 grid gap-5 lg:grid-cols-3">
			{
				overview.map((item) => (
					<div class="rounded-3xl border border-[hsl(var(--border))] bg-[hsl(var(--card))]/95 p-5">
						<p class="text-sm font-semibold text-[hsl(var(--foreground))]">
							{item.title}
						</p>
						<p class="mt-2 text-sm text-[hsl(var(--muted-foreground))]">
							{item.description}
						</p>
					</div>
				))
			}
		</div>

		<div
			class="mt-8 flex flex-wrap gap-3 text-[10px] text-[hsl(var(--muted-foreground))]"
		>
			<span
				class="rounded-full border border-[hsl(var(--border))] px-3 py-1 font-semibold text-[hsl(var(--foreground))]"
			>
				{meta.totalOperations}
			</span>
			<span class="rounded-full border border-[hsl(var(--border))] px-3 py-1"
				>{meta.totalDuration}</span
			>
			<span class="rounded-full border border-[hsl(var(--border))] px-3 py-1"
				>{meta.nodeVersion}</span
			>
			<span class="rounded-full border border-[hsl(var(--border))] px-3 py-1"
				>{meta.platform}</span
			>
		</div>

		<ul class="mt-6 space-y-2 text-sm text-[hsl(var(--muted-foreground))]">
			{
				summaryBullets.map((bullet) => (
					<li class="flex gap-2">
						<span class="mt-1 h-1.5 w-1.5 flex-shrink-0 rounded-full bg-[hsl(var(--primary))]" />
						<span>{bullet}</span>
					</li>
				))
			}
		</ul>

		<!-- <div class="mt-10 space-y-6">
			<div>
				<div
					class="mb-3 flex items-center justify-between flex-wrap gap-2"
				>
					<div>
						<p
							class="text-xs font-semibold uppercase tracking-[0.3em] text-[hsl(var(--muted-foreground))]"
						>
							Event processing
						</p>
						<h3
							class="text-lg font-semibold text-[hsl(var(--foreground))]"
						>
							Causality + zero-allocation paths stay
							sub-microsecond.
						</h3>
					</div>
					<span
						class="rounded-full border border-[hsl(var(--border))] px-3 py-1 text-[10px] text-[hsl(var(--muted-foreground))]"
					>
						NATS-connected · GC exposed
					</span>
				</div>
				<div class="grid gap-4 md:grid-cols-2 xl:grid-cols-3">
					{
						eventProcessing.map((bench) => (
							<div class="rounded-2xl border border-[hsl(var(--border))]/80 bg-[hsl(var(--background))] p-4">
								<p class="text-sm font-semibold text-[hsl(var(--foreground))]">
									{bench.name}
								</p>
								<div class="mt-3 space-y-1 text-[11px] text-[hsl(var(--muted-foreground))]">
									<p>
										<span class="font-semibold text-[hsl(var(--foreground))]">
											Throughput:
										</span>{" "}
										{bench.throughput}
									</p>
									<p>
										<span class="font-semibold text-[hsl(var(--foreground))]">
											Duration:
										</span>{" "}
										{bench.duration}
									</p>
									<p>
										<span class="font-semibold text-[hsl(var(--foreground))]">
											Latency:
										</span>{" "}
										{bench.latency}
									</p>
									<p>
										<span class="font-semibold text-[hsl(var(--foreground))]">
											Memory:
										</span>{" "}
										{bench.mem}
									</p>
								</div>
							</div>
						))
					}
				</div>
			</div>

			<div>
				<div class="mb-3">
					<p
						class="text-xs font-semibold uppercase tracking-[0.3em] text-[hsl(var(--muted-foreground))]"
					>
						State & Views
					</p>
					<h3
						class="text-lg font-semibold text-[hsl(var(--foreground))]"
					>
						Shadow state stays sub-millisecond even with transforms.
					</h3>
				</div>
				<div class="grid gap-4 md:grid-cols-2 xl:grid-cols-3">
					{
						stateAndViews.map((bench) => (
							<div class="rounded-2xl border border-[hsl(var(--border))]/80 bg-[hsl(var(--background))] p-4">
								<p class="text-sm font-semibold text-[hsl(var(--foreground))]">
									{bench.name}
								</p>
								<div class="mt-3 space-y-1 text-[11px] text-[hsl(var(--muted-foreground))]">
									<p>
										<span class="font-semibold text-[hsl(var(--foreground))]">
											Throughput:
										</span>{" "}
										{bench.throughput}
									</p>
									<p>
										<span class="font-semibold text-[hsl(var(--foreground))]">
											Duration:
										</span>{" "}
										{bench.duration}
									</p>
									<p>
										<span class="font-semibold text-[hsl(var(--foreground))]">
											Latency:
										</span>{" "}
										{bench.latency}
									</p>
									<p>
										<span class="font-semibold text-[hsl(var(--foreground))]">
											Memory:
										</span>{" "}
										{bench.mem}
									</p>
								</div>
							</div>
						))
					}
				</div>
			</div>

			<div>
				<div class="mb-3">
					<p
						class="text-xs font-semibold uppercase tracking-[0.3em] text-[hsl(var(--muted-foreground))]"
					>
						Confluence · Fan-out / fan-in
					</p>
					<h3
						class="text-lg font-semibold text-[hsl(var(--foreground))]"
					>
						Swarms burst to 500k tool ops/sec with microsecond
						fan-in.
					</h3>
				</div>
				<div class="grid gap-4 md:grid-cols-2 xl:grid-cols-3">
					{
						confluence.map((bench) => (
							<div class="rounded-2xl border border-[hsl(var(--border))]/80 bg-[hsl(var(--background))] p-4">
								<p class="text-sm font-semibold text-[hsl(var(--foreground))]">
									{bench.name}
								</p>
								<div class="mt-3 space-y-1 text-[11px] text-[hsl(var(--muted-foreground))]">
									<p>
										<span class="font-semibold text-[hsl(var(--foreground))]">
											Throughput:
										</span>{" "}
										{bench.throughput}
									</p>
									<p>
										<span class="font-semibold text-[hsl(var(--foreground))]">
											Duration:
										</span>{" "}
										{bench.duration}
									</p>
									<p>
										<span class="font-semibold text-[hsl(var(--foreground))]">
											Latency:
										</span>{" "}
										{bench.latency}
									</p>
									<p>
										<span class="font-semibold text-[hsl(var(--foreground))]">
											Memory:
										</span>{" "}
										{bench.mem}
									</p>
								</div>
							</div>
						))
					}
				</div>
			</div>
		</div> -->
	</div>
	<div id="happen" class="bg-[hsl(var(--background))]">
		<div class="mx-auto max-w-6xl px-4 p-10 pt-0 sm:px-6 lg:px-8 lg:pb-14">
			<div class="flex flex-col gap-10 lg:flex-row lg:items-center">
				<div class="flex-1 space-y-3">
					<h2
						class="text-xl font-semibold tracking-tight text-[hsl(var(--foreground))] sm:text-2xl"
					>
						Agents reimagined as ephemeral events.
					</h2>
					<p
						class="text-sm leading-relaxed text-[hsl(var(--muted-foreground))]"
					>
						Inside Guru, agents aren't long-lived processes. They are ephemeral
						events in Happen: a framework that treats every thought, tool call,
						and system action as a typed, observable event. This lets you design
						infinite, bursty swarms without worrying about resource leaks or
						runaway processes.
					</p>
					<ul
						class="mt-2 grid gap-2 text-xs text-[hsl(var(--muted-foreground))] sm:grid-cols-2"
					>
						<li class="flex items-start gap-2">
							<span
								class="mt-1 h-1.5 w-1.5 rounded-full bg-[hsl(var(--primary))]"
							></span>
							<div>
								<div
									class="text-[11px] font-medium text-[hsl(var(--foreground))]"
								>
									Event-first execution
								</div>
								<p>
									Every agent action is a discrete event with explicit inputs,
									context, and outcomes.
								</p>
							</div>
						</li>
						<li class="flex items-start gap-2">
							<span
								class="mt-1 h-1.5 w-1.5 rounded-full bg-[hsl(var(--primary))]"
							></span>
							<div>
								<div
									class="text-[11px] font-medium text-[hsl(var(--foreground))]"
								>
									Swarm orchestration
								</div>
								<p>
									Happen routes events between agents, models, and tools,
									building dynamic swarms on demand.
								</p>
							</div>
						</li>
						<li class="flex items-start gap-2">
							<span
								class="mt-1 h-1.5 w-1.5 rounded-full bg-[hsl(var(--primary))]"
							></span>
							<div>
								<div
									class="text-[11px] font-medium text-[hsl(var(--foreground))]"
								>
									Backpressure and safety
								</div>
								<p>
									Event budgets, concurrency limits, and policy gates stop
									swarms from overwhelming systems.
								</p>
							</div>
						</li>
						<li class="flex items-start gap-2">
							<span
								class="mt-1 h-1.5 w-1.5 rounded-full bg-[hsl(var(--primary))]"
							></span>
							<div>
								<div
									class="text-[11px] font-medium text-[hsl(var(--foreground))]"
								>
									Full lineage
								</div>
								<p>
									Trace every artifact back through the event graph that
									produced it, across models and tools.
								</p>
							</div>
						</li>
					</ul>
				</div>

				<!-- Event stream mock -->
				<div class="flex-1">
					<div
						class="mt-4 rounded-xl border border-[hsl(var(--border))] bg-[hsl(var(--card))] p-3 sm:mt-0 sm:p-4"
					>
						<div class="mb-2 flex items-center justify-between text-[11px]">
							<span class="font-medium text-[hsl(var(--foreground))]"
								>Happen Event Stream</span
							>
							<span
								class="rounded-full bg-[hsl(var(--muted))] px-1.5 py-0.5 text-[9px] text-[hsl(var(--muted-foreground))]"
								>live</span
							>
						</div>
						<div
							class="space-y-1.5 rounded-lg bg-[hsl(var(--background))] p-2 text-[10px] text-[hsl(var(--muted-foreground))]"
						>
							<div class="flex items-center gap-2">
								<span
									class="rounded-full bg-[hsl(var(--muted))] px-1.5 py-0.5 text-[9px]"
									>00:00.213</span
								>
								<span class="font-medium text-[hsl(var(--foreground))]"
									>event: swarm.plan</span
								>
								<span>agent=planner-1</span>
							</div>
							<div class="flex items-center gap-2">
								<span
									class="rounded-full bg-[hsl(var(--muted))] px-1.5 py-0.5 text-[9px]"
									>00:00.427</span
								>
								<span class="font-medium text-[hsl(var(--foreground))]"
									>event: code.search.symbol</span
								>
								<span>agent=codebase-3</span>
							</div>
							<div class="flex items-center gap-2">
								<span
									class="rounded-full bg-[hsl(var(--muted))] px-1.5 py-0.5 text-[9px]"
									>00:00.731</span
								>
								<span class="font-medium text-[hsl(var(--foreground))]"
									>event: workbench.spawn</span
								>
								<span>agent=workbench-2</span>
							</div>
							<div class="flex items-center gap-2">
								<span
									class="rounded-full bg-[hsl(var(--muted))] px-1.5 py-0.5 text-[9px]"
									>00:01.102</span
								>
								<span class="font-medium text-[hsl(var(--foreground))]"
									>event: fs.write.shadow</span
								>
								<span>agent=runtime-7</span>
							</div>
							<div class="flex items-center gap-2">
								<span
									class="rounded-full bg-[hsl(var(--muted))] px-1.5 py-0.5 text-[9px]"
									>00:01.476</span
								>
								<span class="font-medium text-[hsl(var(--foreground))]"
									>event: liner.review</span
								>
								<span>policy=prod-guardrail</span>
							</div>
							<div class="flex items-center gap-2">
								<span
									class="rounded-full bg-[hsl(var(--muted))] px-1.5 py-0.5 text-[9px]"
									>00:01.891</span
								>
								<span class="font-medium text-[hsl(var(--foreground))]"
									>event: fs.write.commit</span
								>
								<span>status=approved</span>
							</div>
						</div>

						<div
							class="mt-3 grid gap-2 text-[10px] text-[hsl(var(--muted-foreground))] sm:grid-cols-3"
						>
							<div
								class="rounded-lg border border-[hsl(var(--border))] bg-[hsl(var(--background))] p-2"
							>
								<div
									class="mb-0.5 text-[11px] font-medium text-[hsl(var(--foreground))]"
								>
									Event budgets
								</div>
								<p>
									Attach budgets to users, repos, or environments to cap swarm
									expansion.
								</p>
							</div>
							<div
								class="rounded-lg border border-[hsl(var(--border))] bg-[hsl(var(--background))] p-2"
							>
								<div
									class="mb-0.5 text-[11px] font-medium text-[hsl(var(--foreground))]"
								>
									Concurrency lanes
								</div>
								<p>
									Separate high-risk (runtime) from low-risk (analysis) events
									into dedicated lanes.
								</p>
							</div>
							<div
								class="rounded-lg border border-[hsl(var(--border))] bg-[hsl(var(--background))] p-2"
							>
								<div
									class="mb-0.5 text-[11px] font-medium text-[hsl(var(--foreground))]"
								>
									Structured logs
								</div>
								<p>
									Export the full event graph into your observability stack for
									replay and forensics.
								</p>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</section>
