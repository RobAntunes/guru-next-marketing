---
const joined = Astro.url.searchParams.get('joined') === 'waitlist';
---

<section
	id="cta"
	class="border-b border-[hsl(var(--border))]/70 bg-[hsl(var(--background))]"
>
	<div class="sa mx-auto max-w-6xl px-4 py-16 sm:px-6 lg:px-8">
		<div
			class="relative overflow-hidden rounded-[2.5rem] border border-[hsl(var(--border))] bg-[radial-gradient(circle_at_top,_rgba(220,38,38,0.14),_transparent_55%)]"
		>
			<div
				class="absolute inset-0 bg-[hsl(var(--card))]/95 backdrop-blur-sm"
			>
			</div>
			<div
				class="relative z-10 grid gap-10 p-6 sm:p-8 lg:grid-cols-[1.15fr,0.85fr] lg:items-center lg:p-12"
			>
				<!-- <div class="space-y-4">
					<p
						class="text-xs font-semibold uppercase tracking-[0.3em] text-[hsl(var(--muted-foreground))]"
					>
						Engage Guru Labs
					</p>
					<h2
						class="text-2xl font-semibold tracking-tight sm:text-3xl"
					>
						Make agentic systems feel fearless for AI and safe for
						humans.
					</h2>
					<p
						class="text-sm leading-relaxed text-[hsl(var(--muted-foreground))]"
					>
						Guru is partnering with a small set of teams building
						agent-native products and internal platforms. Share your
						stack and we’ll send a harness blueprint, policy
						templates, and mission-control best practices tailored
						to your environment.
					</p>
					<ul
						class="grid gap-2 text-sm text-[hsl(var(--muted-foreground))] sm:grid-cols-2"
					>
						<li class="flex items-center gap-2">
							<span
								class="h-1.5 w-1.5 rounded-full bg-[hsl(var(--primary))]"
							></span>
							Reference architectures for your infra.
						</li>
						<li class="flex items-center gap-2">
							<span
								class="h-1.5 w-1.5 rounded-full bg-[hsl(var(--primary))]"
							></span>
							Async inbox UX patterns + notifications.
						</li>
						<li class="flex items-center gap-2">
							<span
								class="h-1.5 w-1.5 rounded-full bg-[hsl(var(--primary))]"
							></span>
							Governance templates for security teams.
						</li>
						<li class="flex items-center gap-2">
							<span
								class="h-1.5 w-1.5 rounded-full bg-[hsl(var(--primary))]"
							></span>
							Optional on-site design workshops.
						</li>
					</ul>
				</div> -->

				<div
					class="hover-lift rounded-[1.5rem] border border-[hsl(var(--border))] bg-[hsl(var(--background))]/95 p-4 sm:p-6"
				>
					<!-- <form class="space-y-4 text-sm">
						<div class="space-y-1">
							<label
								for="email"
								class="text-[11px] font-semibold uppercase tracking-wide text-[hsl(var(--muted-foreground))]"
							>
								Email
							</label>
							<input
								id="email"
								type="email"
								placeholder="you@company.com"
								class="w-full rounded-2xl border border-[hsl(var(--input))] bg-[hsl(var(--card))] px-4 py-2 text-sm text-[hsl(var(--foreground))] outline-none ring-0 focus:border-[hsl(var(--primary))]/60 focus:ring-2 focus:ring-[hsl(var(--primary))]/40"
							/>
						</div>

						<div
							class="flex items-center justify-between text-[11px] text-[hsl(var(--muted-foreground))]"
						>
							<label class="flex items-center gap-2">
								<input
									type="checkbox"
									class="h-3.5 w-3.5 rounded border-[hsl(var(--input))] text-[hsl(var(--primary))] focus:ring-[hsl(var(--primary))]"
								/>
								<span>Share early-access updates</span>
							</label>
							<button
								type="submit"
								class="inline-flex items-center justify-center rounded-full bg-[hsl(var(--primary))] px-4! py-1.5 text-[11px] font-semibold text-[hsl(var(--primary-foreground))] shadow-md shadow-[rgba(0,0,0,0.15)] transition hover:bg-[hsl(var(--primary))]/90"
							>
								Request access
							</button>
						</div>
						<p
							class="text-[10px] text-[hsl(var(--muted-foreground))]"
						>
							By submitting, you agree to be contacted about Guru.
							Your information is never shared with third parties.
						</p>
					</form> -->
						<p
							class="text-xs font-semibold uppercase tracking-[0.3em] text-[hsl(var(--muted-foreground))]"
						>
							Join the waitlist
						</p>
						<h2
							class="text-2xl font-semibold tracking-tight sm:text-3xl"
						>
							Build fearless agents, safely.
						</h2>
						<p
							class="text-sm leading-relaxed text-[hsl(var(--muted-foreground))]"
						>
							Guru is in private beta for solo developers and
							small teams shipping agentic features. Join the
							waitlist to get early access and start building with
							governance from day one.
						</p>
						<ul
							class="grid gap-2 text-sm text-[hsl(var(--muted-foreground))] sm:grid-cols-2"
						>
							<li class="flex items-center gap-2">
								<span
									class="h-1.5 w-1.5 rounded-full bg-[hsl(var(--primary))]"
								></span>
								Start free with local harness
							</li>
							<li class="flex items-center gap-2">
								<span
									class="h-1.5 w-1.5 rounded-full bg-[hsl(var(--primary))]"
								></span>
								Grow into team plans with cloud sync
							</li>
							<li class="flex items-center gap-2">
								<span
									class="h-1.5 w-1.5 rounded-full bg-[hsl(var(--primary))]"
								></span>
								Get setup guides & best practices
							</li>
							<li class="flex items-center gap-2">
								<span
									class="h-1.5 w-1.5 rounded-full bg-[hsl(var(--primary))]"
								></span>
								Access early beta features first
							</li>
						</ul>
					</div>

					{joined && (
						<div class="mt-4 mb-3 flex items-center gap-2 rounded-full border border-[hsl(var(--border))] bg-[hsl(var(--card))] px-3 py-1.5 text-[11px] text-[hsl(var(--muted-foreground))]">
							<span class="h-1.5 w-1.5 rounded-full bg-[hsl(var(--primary))]" />
							<span>Thanks for joining the waitlist — you’re in.</span>
						</div>
					)}

					<form class="space-y-4 text-sm my-4" method="post" action="/api/join-waitlist">
						<div class="space-y-1">
							<label
								for="email"
								class="text-[11px] font-semibold uppercase tracking-wide text-[hsl(var(--muted-foreground))]"
							>
								Email
							</label>
							<input
								id="email"
								name="email"
								type="email"
								placeholder="you@company.com"
								required
								class="w-full rounded-2xl border border-[hsl(var(--input))] bg-[hsl(var(--card))] px-4 py-2 text-sm text-[hsl(var(--foreground))] outline-none ring-0 focus:border-[hsl(var(--primary))]/60 focus:ring-2 focus:ring-[hsl(var(--primary))]/40"
							/>
						</div>
						<button
							type="submit"
							class="inline-flex items-center justify-center rounded-full bg-[hsl(var(--primary))] px-4! py-1.5 text-[11px] font-semibold text-[hsl(var(--primary-foreground))] shadow-md shadow-[rgba(0,0,0,0.15)] transition hover:bg-[hsl(var(--primary))]/90"
						>
							Join waitlist
						</button>
					</form>
					<p class="text-[10px] text-[hsl(var(--muted-foreground))]">
						By submitting, you agree to be contacted about Guru.
						Your information is never shared with third parties.
					</p>
				</div>
			</div>
		</div>
	</div>
</section>
